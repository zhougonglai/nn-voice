(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{362:function(t,e,r){var content=r(451);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("924a2912",content,!0,{sourceMap:!1})},450:function(t,e,r){"use strict";var n=r(362);r.n(n).a},451:function(t,e,r){(e=r(22)(!1)).push([t.i,".safe-aria[data-v-2deb903a] .v-text-field__details{display:none}",""]),t.exports=e},476:function(t,e,r){"use strict";r.r(e);r(20),r(10),r(7),r(5),r(15),r(19);var n=r(1),o=r(4),c=r(32),l=r(71);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={layout:"channel",data:function(){return{input:"",loading:{send:!1,emoj:!1,audio:!1}}},computed:d(d(d(d({},Object(c.c)("user",["getUser"])),Object(c.e)("user",["user","users"])),Object(c.e)("rtm",["peersStatus"])),{},{userTarget:function(){return this.$route.params&&this.getUser(this.$route.params.id)}}),methods:d(d({},Object(c.d)("rtm",["MSG_UPDATE"])),{},{init:function(){return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,!0;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},sendMsg:Object(l.throttle)(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.input){t.next=8;break}return t.t0=this.$RTM,t.next=4,this.$RTM.createTextMessage(this.$route.params.id,{text:this.input});case 4:return t.t1=t.sent,t.next=7,t.t0.sendMessage.call(t.t0,t.t1);case 7:this.input="";case 8:case"end":return t.stop()}}),t,this)}))),650),switcher:function(){console.log("switcher"),window.weui.picker(this.users.map((function(t){return d(d({},t),{},{label:"".concat(t.first_name," ").concat(t.last_name),value:t.id})})),{className:"custom-classname",container:"body",defaultValue:[this.$route.params.id],onChange:function(t){console.log(t)},onConfirm:function(t){console.log(t)},id:"singleLinePicker"})}})},h=(r(450),r(3)),m=r(67),w=r.n(m),y=r(478),_=r(462),O=r(373),x=r(458),j=r(463),k=r(464),T=r(352),C=r(379),V=r(325),P=r(469),S=r(344),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("LazyLoadView",{staticClass:"h-screen",attrs:{initFN:t.init},scopedSlots:t._u([{key:"loading",fn:function(){return[r("CircleLoader")]},proxy:!0}])},[r("v-app-bar",{attrs:{app:"",fixed:"","elevate-on-scroll":""}},[r("v-app-bar-nav-icon",{on:{click:function(e){return t.$router.back()}}},[r("v-icon",[t._v("arrow_back")])],1),t.userTarget?r("v-toolbar-title",{on:{click:t.switcher}},[r("v-avatar",{attrs:{height:"32","min-width":"32",width:"32"}},[r("img",{attrs:{src:t.userTarget.avatar,alt:t.userTarget.first_name+" "+t.userTarget.last_name}})]),r("span",{staticClass:"ml-2"},[t._v(t._s(t.userTarget.first_name)+" "+t._s(t.userTarget.last_name))]),t.peersStatus&&isFinite(t.peersStatus[t.user.id])?[r("WeBage",{staticClass:"weui-badge_dot ml-2",class:{"bg-success":t.peersStatus[t.userTarget.id]}})]:t._e()],2):t._e(),r("div",{staticClass:"flex-1"}),r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("call")])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("videocam")])],1)],1),r("v-main",{staticClass:"h-full"},[r("v-container",{staticClass:"h-full overflow-y-auto",attrs:{fluid:""}},[r("nuxt-child")],1)],1),r("v-footer",{staticClass:"safe-aria",attrs:{app:"",fixed:""}},[r("v-input",{attrs:{dense:"","hide-details":!0},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("div",{staticClass:"w-10 h-10 flex items-center justify-center"},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("keyboard_voice")])],1)],1),r("div",{staticClass:"w-10 h-10 flex items-center justify-center"},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mood")])],1)],1)]},proxy:!0}])},[r("v-textarea",{attrs:{dense:"",filled:"","auto-grow":"",rows:"1","row-height":"20"},scopedSlots:t._u([{key:"append",fn:function(){return[r("div",{staticClass:"w-10 h-10 flex items-center justify-center",on:{click:t.sendMsg}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("send")])],1)],1)]},proxy:!0}]),model:{value:t.input,callback:function(e){t.input="string"==typeof e?e.trim():e},expression:"input"}})],1)],1)],1)}),[],!1,null,"2deb903a",null);e.default=component.exports;w()(component,{VAppBar:y.a,VAppBarNavIcon:_.a,VAvatar:O.a,VBtn:x.a,VContainer:j.a,VFooter:k.a,VIcon:T.a,VInput:C.a,VMain:V.a,VTextarea:P.a,VToolbarTitle:S.a})}}]);